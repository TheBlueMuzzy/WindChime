---
phase: 08-git-deploy
plan: 01
type: execute
---

<objective>
Push WindChime to GitHub and deploy to GitHub Pages at thebluemuzzy.github.io/WindChime/

Purpose: Get the scanner app live on a public URL so it can be tested on phones without a dev server.
Output: Working deployed app at https://thebluemuzzy.github.io/WindChime/
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Key source files:
@vite.config.ts
@package.json
@.gitignore

**Current state:**
- Git repo exists locally with commits (no remote)
- GitHub username: TheBlueMuzzy
- GOOPS deploy pattern: `gh-pages` npm package + custom deploy script + `base: '/GOOPS/'` in vite.config
- Vite config currently has NO base path set (defaults to `/`)
- SSL plugin (`@vitejs/plugin-basic-ssl`) is for dev only — production build should NOT include it
- App dev server pinned to port 5213

**GOOPS deploy reference:**
- `base: '/GOOPS/'` in vite.config.ts
- `gh-pages` (v6.3.0) as devDependency
- `scripts/deploy.js` handles: build → copy assets → fix paths → `npx gh-pages -d dist`
- `"deploy": "node scripts/deploy.js"` in package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create GitHub repo and push</name>
  <files>none (git operations only)</files>
  <action>
1. Create a new public GitHub repo named `WindChime` under TheBlueMuzzy:
   `gh repo create TheBlueMuzzy/WindChime --public --source=/c/Users/Muzzy/Documents/UnityProjects/WindChime --push`
2. Verify remote is set and all commits are pushed:
   `git -C /c/Users/Muzzy/Documents/UnityProjects/WindChime remote -v`
   `git -C /c/Users/Muzzy/Documents/UnityProjects/WindChime log --oneline -3`
  </action>
  <verify>GitHub repo exists at github.com/TheBlueMuzzy/WindChime with all commits pushed.</verify>
  <done>GitHub repo created and synced</done>
</task>

<task type="auto">
  <name>Task 2: Configure Vite for GitHub Pages</name>
  <files>vite.config.ts</files>
  <action>
1. Add `base: '/WindChime/'` to vite.config.ts (so all asset paths work under the GitHub Pages subdirectory)
2. Make sure the SSL plugin only runs in dev mode (not included in production build):
   - Use `mode` parameter or conditional: SSL plugin only in `serve` mode

Final vite.config.ts should look like:
```ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import basicSsl from '@vitejs/plugin-basic-ssl'

export default defineConfig(({ command }) => ({
  base: '/WindChime/',
  plugins: [
    react(),
    ...(command === 'serve' ? [basicSsl()] : []),
  ],
  server: { port: 5213, host: true },
}))
```
  </action>
  <verify>`npm run build` succeeds. Check dist/index.html references `/WindChime/` base path.</verify>
  <done>Vite configured with GitHub Pages base path, SSL plugin dev-only</done>
</task>

<task type="auto">
  <name>Task 3: Add deploy script and gh-pages dependency</name>
  <files>package.json, scripts/deploy.js</files>
  <action>
1. Install gh-pages: `npm install --save-dev gh-pages`
2. Create `scripts/deploy.js` that:
   - Runs `npm run build`
   - Runs `npx gh-pages -d dist`
3. Add `"deploy": "node scripts/deploy.js"` to package.json scripts
  </action>
  <verify>`npm run deploy` builds and pushes to gh-pages branch.</verify>
  <done>Deploy script created, gh-pages dependency added</done>
</task>

<task type="auto">
  <name>Task 4: Deploy and verify</name>
  <files>none</files>
  <action>
1. Run `npm run deploy` from project directory
2. Wait ~60 seconds for GitHub Pages to build
3. Verify the app loads at https://thebluemuzzy.github.io/WindChime/
  </action>
  <verify>App loads in browser at the GitHub Pages URL. Camera prompt appears on mobile.</verify>
  <done>App live on GitHub Pages</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>WindChime deployed to GitHub Pages</what-built>
  <how-to-verify>
    1. Open https://thebluemuzzy.github.io/WindChime/ on your phone
    2. Tap to enable sound
    3. Point at a QR code — verify sound plays
    4. Check that the page loads (not a 404 or blank screen)
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] GitHub repo exists at github.com/TheBlueMuzzy/WindChime
- [ ] All commits pushed to main branch
- [ ] `base: '/WindChime/'` in vite.config.ts
- [ ] `npm run build` succeeds
- [ ] `npm run deploy` pushes to gh-pages branch
- [ ] App loads at https://thebluemuzzy.github.io/WindChime/
- [ ] Commit all changes with version bump
</verification>

<success_criteria>
- WindChime app live on GitHub Pages
- Deploy workflow repeatable via `npm run deploy`
- SSL plugin only active in dev mode
</success_criteria>

<output>
After completion, create `.planning/phases/08-git-deploy/08-01-SUMMARY.md`
</output>
