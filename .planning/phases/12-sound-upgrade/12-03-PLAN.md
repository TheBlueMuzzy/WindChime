---
phase: 12-sound-upgrade
plan: 03
type: execute
---

<objective>
Generate QR code images for all 100 clips and clean up old sound directories.

Purpose: Every clip needs a matching QR code image for printing/display. Old spliced directory gets removed to prevent confusion.
Output: 100 QR code PNGs in `audio/QR2/`, old `audio/spliced/` removed.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-sound-upgrade/12-CONTEXT.md
@.planning/phases/12-sound-upgrade/12-02-SUMMARY.md

**Key files:**
@audio/spliced2/ (100 new clips from Plan 02)

**From CONTEXT.md:**
- QR values follow existing pattern: clip ID that the app resolves to audio URL
- QR images: standard black/white, saved to `audio/QR2/`
- Clip = `Chime_XXX.mp3`, QR = `QR_XXX.png`, paired by number
- Delete old `audio/spliced/` directory entirely
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate QR code images for all 100 clips</name>
  <files>scripts/generate-qr-codes.py, audio/QR2/</files>
  <action>
Create `scripts/generate-qr-codes.py` that:

1. For each clip `Chime_001` through `Chime_100`:
   - Generate a QR code encoding the string `Chime_001` (the raw value the app uses as sound ID)
   - Save as `audio/QR2/QR_001.png` through `QR_100.png`
2. QR code specs:
   - Standard black on white
   - Size: 300x300 pixels (good for printing and screen display)
   - Error correction: Level M (15% — good balance of density vs resilience)
   - Use `qrcode` library with PIL/Pillow for image generation
3. Print summary: "Generated 100 QR codes in audio/QR2/"

Run the script.
  </action>
  <verify>ls audio/QR2/ | wc -l returns 100, and images are valid PNGs (file QR_001.png shows PNG image)</verify>
  <done>100 QR code PNGs in `audio/QR2/`, each encoding its matching Chime ID</done>
</task>

<task type="auto">
  <name>Task 2: Clean up old sound directories</name>
  <files>audio/spliced/</files>
  <action>
1. Delete the entire `audio/spliced/` directory (the old 24 clips)
2. Verify it's gone
3. Optionally rename `audio/spliced2/` to `audio/spliced/` for consistency — BUT check if any scripts reference `spliced2` first. If `generate-chime-list.js` was updated in Plan 02 to read from `spliced2`, update it back to `spliced` after rename.
4. Update `scripts/generate-chime-list.js` source directory if renamed

**Decision:** Keep as `audio/spliced2/` if simpler (avoids churn), or rename to `audio/spliced/` for cleanliness. Either way, ensure `generate-chime-list.js` points to the correct directory.
  </action>
  <verify>ls audio/ shows no `spliced/` directory (or shows renamed `spliced/` with 100 files). generate-chime-list.js points to correct directory.</verify>
  <done>Old clips removed, directory structure clean, chime list script consistent</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] 100 QR code PNGs exist in `audio/QR2/`
- [ ] Each QR encodes the correct `Chime_XXX` value
- [ ] Old `audio/spliced/` directory removed or replaced
- [ ] `generate-chime-list.js` reads from the correct directory
</verification>

<success_criteria>

- All 100 QR codes generated and saved
- Old sound files cleaned up
- Directory structure consistent
- Ready for Plan 04 (app dynamic discovery)
</success_criteria>

<output>
After completion, create `.planning/phases/12-sound-upgrade/12-03-SUMMARY.md`
</output>
